(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{A5QK:function(t,e,n){"use strict";var a=n("amu/"),s=n("llIQ"),i={components:{TextInput:a.a,InputIcon:s.a}},r=n("KHd+"),c=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative h-10"},[n("div",{staticClass:"absolute inset-y-0 left-0 flex items-center pl-4"},[n("InputIcon",{staticClass:"fa-search"})],1),t._v(" "),n("TextInput",{staticClass:"pl-12 pr-6 w-full",attrs:{placeholder:"Search"},on:{input:function(e){return t.$emit("change",e)}},nativeOn:{focus:function(e){return t.$emit("focus")},blur:function(e){return t.$emit("blur")}}})],1)},[],!1,null,null,null);e.a=c.exports},"H+kF":function(t,e,n){"use strict";e.a={methods:{formatShopGroceries:function(t){return"".concat(t," groceries")}}}},KDOF:function(t,e,n){"use strict";var a=n("KHd+"),s=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"focus:outline-none",attrs:{type:"button"}},[e("i",{staticClass:"fa fa-times"})])}],!1,null,null,null);e.a=s.exports},QytL:function(t,e,n){"use strict";var a={components:{Checkbox:n("sQju").a},props:{heading:String,subHeading:String,leftBottom:String,inactive:{default:!1},iconVisible:{default:!1}}},s=n("KHd+"),i=Object(s.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cursor-pointer"},[n("div",{staticClass:"flex flex-col lg:w-56 h-40 rounded-lg p-4 hover:bg-gray-800",class:{"bg-gray-600":!t.inactive,"bg-gray-500":t.inactive}},[n("div",{staticClass:"flex justify-between items-center"},[n("h3",{staticClass:"text-lg text-gray-100 w-full"},[t._v(t._s(t.heading))]),t._v(" "),n("span",{staticClass:"inline-block text-right"},[t.iconVisible?n("Checkbox",{attrs:{checked:!0}}):t._e()],1)]),t._v(" "),n("span",{staticClass:"text-sm text-gray-200"},[t._v(t._s(t.subHeading))]),t._v(" "),n("strong",{staticClass:"mt-auto text-base font-bold text-gray-100"},[t._v(t._s(t.leftBottom))])])])},[],!1,null,null,null);e.a=i.exports},T7k3:function(t,e,n){"use strict";var a=n("KHd+"),s=Object(a.a)({},function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn"},[this._t("default")],2)},[],!1,null,null,null);e.a=s.exports},Z6hU:function(t,e,n){"use strict";var a=n("KHd+"),s=Object(a.a)({},function(){var t=this.$createElement;return(this._self._c||t)("h1",{staticClass:"text-3xl font-bold text-gray-800"},[this._t("default")],2)},[],!1,null,null,null);e.a=s.exports},aI5m:function(t,e,n){"use strict";var a={props:{text:{default:"List Item text"},inactive:{default:!1}}},s=n("KHd+"),i=Object(s.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"flex items-center px-2 py-2 rounded rounded-lg cursor-pointer hover:bg-gray-800",class:{"bg-gray-600":!this.inactive,"bg-gray-500":this.inactive}},[e("span",{staticClass:"ml-4 text-gray-100",class:{"text-gray-300":this.inactive}},[this._v(this._s(this.text))])])},[],!1,null,null,null);e.a=i.exports},"amu/":function(t,e,n){"use strict";var a={props:["value","placeholder"]},s=n("KHd+"),i=Object(s.a)(a,function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{staticClass:"bg-gray-300 text-gray-800 pl-6 py-2 font-medium rounded-lg focus:outline-none",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})},[],!1,null,null,null);e.a=i.exports},bOLD:function(t,e,n){"use strict";var a={},s=n("KHd+"),i=Object(s.a)(a,function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"uppercase font-bold text-gray-600"},[this._t("default")],2)},[],!1,null,null,null);e.a=i.exports},esJg:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),s=n.n(a),i=n("Z6hU"),r=n("fa2K"),c=n("T7k3"),l=n("paqF"),o=n("bOLD"),u=n("aI5m"),f=n("QytL"),d=n("2xM3"),h=n("A5QK"),p={props:["lastPage","currentPage"],computed:{pages:function(){var t=this.lastPage;if(t>5)return[1,2,"...",this.last-1,this.last];for(var e=[],n=1;n<=t;n++)e.push(n);return e}},components:{Button:c.a},methods:{pageActive:function(t){return{"bg-gray-300 rounded rounded-full":this.currentPage===t}},previousPage:function(){var t=Math.max(1,this.currentPage-1);this.$emit("change",t)},nextPage:function(){var t=Math.min(this.lastPage,this.currentPage+1);this.$emit("change",t)}}},v=n("KHd+"),g=Object(v.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.lastPage>1?n("div",{staticClass:"flex items-center justify-between"},[n("Button",{nativeOn:{click:function(e){return t.previousPage(e)}}},[t._v("Previous")]),t._v(" "),n("div",t._l(t.pages,function(e){return n("span",{staticClass:"inline-flex flex-col justify-around cursor-pointer inline-block w-8 h-8 text-center mx-2",class:t.pageActive(e),on:{click:function(n){return t.$emit("change",e)}}},[n("span",[t._v(t._s(e))])])}),0),t._v(" "),n("Button",{nativeOn:{click:function(e){return t.nextPage(e)}}},[t._v("Next")])],1):t._e()},[],!1,null,null,null).exports,m=n("H+kF");function _(t,e,n,a,s,i,r){try{var c=t[i](r),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(a,s)}function x(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function r(t){_(i,a,s,r,c,"next",t)}function c(t){_(i,a,s,r,c,"throw",t)}r(void 0)})}}var b=d.a.get("shop"),y={props:["id"],mixins:[{data:function(){return{currentPage:1,lastPage:null}},methods:{setPagination:function(t,e){this.lastPage=e,this.currentPage=t}}},m.a],components:{SearchBar:h.a,Heading:i.a,Loading:r.a,Button:c.a,DeleteDialog:l.a,ListItem:u.a,TextLabel:o.a,Card:f.a,Pagination:g},data:function(){return{shop:null,groceries:[],query:null,askQuestion:!1}},created:function(){this.fetchShop(),this.searchGroceries()},methods:{fetchShop:function(){var t=x(s.a.mark(function t(){var e,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.find(this.id);case 2:e=t.sent,n=e.data,this.shop=n;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),deleteShop:function(){var t=x(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.delete(this.id);case 2:this.$router.push({name:"shops"});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),searchGroceries:function(){var t=x(s.a.mark(function t(e){var n,a,i,r,c=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,this.query=e,t.next=4,b.searchGroceries(this.id,e,n);case 4:a=t.sent,i=a.data,r=a.meta,this.groceries=i,this.setPagination(r.current_page,r.last_page);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},watch:{currentPage:function(t){this.searchGroceries(this.query,t)}}},C=Object(v.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.shop?n("section",[n("Heading",[t._v("Shop detail")]),t._v(" "),n("div",{staticClass:"flex flex-wrap mt-4"},[n("div",{staticClass:"w-full md:w-1/2"},[n("Card",{staticClass:"w-64",attrs:{heading:t.shop.name,"sub-heading":t.formatShopGroceries(t.shop.groceries_count)}}),t._v(" "),n("div",{staticClass:"mt-4"},[n("router-link",{attrs:{to:{name:"shops.edit",params:{id:t.shop.id}}}},[n("Button",{staticClass:"btn-grey"},[t._v("Edit")])],1),t._v(" "),n("Button",{staticClass:"text-gray-600",nativeOn:{click:function(e){t.askQuestion=!0}}},[t._v("Delete")])],1)],1),t._v(" "),n("div",{staticClass:"w-full md:w-1/2"},[n("TextLabel",[t._v("Groceries of "+t._s(t.shop.name))]),t._v(" "),n("div",{staticClass:"lg:w-2/3"},[n("SearchBar",{staticClass:"w-full",on:{change:t.searchGroceries}}),t._v(" "),n("div",{staticClass:"mt-2 w-full"},t._l(t.groceries,function(t){return n("router-link",{key:t.id,attrs:{to:{name:"groceries.show",params:{id:t.id}}}},[n("ListItem",{staticClass:"w-full mt-2",attrs:{text:t.name}})],1)}),1),t._v(" "),n("Pagination",{staticClass:"mt-4",attrs:{"current-page":t.currentPage,"last-page":t.lastPage},on:{change:function(e){return t.currentPage=e}}})],1)],1)]),t._v(" "),t.askQuestion?n("DeleteDialog",{on:{cancel:function(e){t.askQuestion=!1},confirm:t.deleteShop},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Delete "+t._s(t.shop.name))]},proxy:!0},{key:"body",fn:function(){return[t._v("\n            Do you really wish to "),n("strong",[t._v("delete shop")]),t._v(" and all of it's associated "),n("strong",[t._v("groceries")]),t._v(" ?\n        ")]},proxy:!0}],null,!1,2777226948)}):t._e()],1):n("section",[n("Loading",[t._v("Loading shop detail ...")])],1)},[],!1,null,null,null);e.default=C.exports},fa2K:function(t,e,n){"use strict";var a=n("KHd+"),s=Object(a.a)({},function(){var t=this.$createElement;return(this._self._c||t)("span",[this._t("default",[this._v("Loading ...")])],2)},[],!1,null,null,null);e.a=s.exports},llIQ:function(t,e,n){"use strict";var a=n("KHd+"),s=Object(a.a)({},function(t,e){return(0,e._c)("i",{staticClass:"fa text-gray-600",class:e.data.staticClass})},[],!0,null,null,null);e.a=s.exports},paqF:function(t,e,n){"use strict";var a=n("tlrq"),s=n("KDOF"),i=n("T7k3"),r={components:{BackDrop:a.a,CloseIcon:s.a,Button:i.a},methods:{handleEscape:function(t){"Escape"===t.code&&this.$emit("cancel")}},mounted:function(){window.addEventListener("keyup",this.handleEscape)},beforeDestroy:function(){window.removeEventListener("keyup",this.handleEscape)}},c=n("KHd+"),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BackDrop",{on:{"modal:close":function(e){return t.$emit("cancel")}}},[n("div",{staticClass:"bg-gray-100 m-auto rounded rounded-lg w-128"},[n("div",{staticClass:"p-8"},[n("header",{staticClass:"flex justify-between items-center text-xl font-medium"},[n("span",[t._t("header")],2),t._v(" "),n("CloseIcon",{staticClass:"text-gray-800",nativeOn:{click:function(e){return t.$emit("cancel")}}})],1),t._v(" "),n("p",{staticClass:"mt-4 text-gray-600"},[t._t("body",[t._v("\n                    Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                    Saepe voluptatibus ea a, illum ad mollitia optio recusandae, doloribus sit.\n                    Dignissimos nulla, accusantium possimus blanditiis magnam officiis. Provident cum ea officiis.\n                ")])],2)]),t._v(" "),n("div",{staticClass:"flex justify-end p-4 bg-gray-200 rounded-b-lg"},[n("Button",{nativeOn:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")]),t._v(" "),n("Button",{staticClass:"btn-red ml-4",nativeOn:{click:function(e){return t.$emit("confirm")}}},[t._v("Delete")])],1)])])},[],!1,null,null,null);e.a=l.exports},sQju:function(t,e,n){"use strict";var a={props:{checked:{default:!1}}},s=n("KHd+"),i=Object(s.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"flex rounded rounded-full h-5 w-5 bg-gray-100"},[e("i",{directives:[{name:"show",rawName:"v-show",value:this.checked,expression:"checked"}],staticClass:"fa fa-xs fa-check text-gray-800 m-auto",staticStyle:{"margin-top":"5px"}})])},[],!1,null,null,null);e.a=i.exports},tlrq:function(t,e,n){"use strict";var a=n("KHd+"),s=Object(a.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("portal",{attrs:{to:"out-off-container"}},[n("div",{staticClass:"flex modal-backdrop px-3",on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("modal:close")}}},[t._t("default")],2)])},[],!1,null,null,null);e.a=s.exports}}]);